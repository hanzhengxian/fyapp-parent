<?xml version="1.0" encoding="GB2312" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>onway-gen-dal</tt>, a DAL (Data Access Layer)    -->
<!-- code generation utility specially developed for <tt>onway</tt> project.        -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>onway-gen-dal</tt> to generate this file.                                  -->
<!--                                                                               -->
<!-- @author guangdong.li                                                             -->
<!-- ============================================================================= -->

<sqlMap namespace="onway">
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->

    <!-- result maps for database table hqyt_plan_copy -->
    <resultMap id="RM-PLAN-COPY" class="com.onway.fyapp.common.dal.dataobject.PlanCopyDO">
		<result property="id" column="ID"  javaType="int" jdbcType="INT"  nullValue="0"/>
		<result property="planTeamId" column="PLAN_TEAM_ID"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="planId" column="PLAN_ID"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="planName" column="PLAN_NAME"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="mainType" column="MAIN_TYPE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="category" column="CATEGORY"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="roleType" column="ROLE_TYPE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="operateObj" column="OPERATE_OBJ"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="pointOne" column="POINT_ONE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempPointOne" column="TEMP_POINT_ONE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="huBalanceOne" column="HU_BALANCE_ONE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempHuBalanceOne" column="TEMP_HU_BALANCE_ONE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="pointTwo" column="POINT_TWO"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempPointTwo" column="TEMP_POINT_TWO"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="huBalanceTwo" column="HU_BALANCE_TWO"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempHuBalanceTwo" column="TEMP_HU_BALANCE_TWO"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="pointThree" column="POINT_THREE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempPointThree" column="TEMP_POINT_THREE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="huBalanceThree" column="HU_BALANCE_THREE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempHuBalanceThree" column="TEMP_HU_BALANCE_THREE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="pointFour" column="POINT_FOUR"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempPointFour" column="TEMP_POINT_FOUR"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="huBalanceFour" column="HU_BALANCE_FOUR"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempHuBalanceFour" column="TEMP_HU_BALANCE_FOUR"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="pointFive" column="POINT_FIVE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempPointFive" column="TEMP_POINT_FIVE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="huBalanceFive" column="HU_BALANCE_FIVE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="tempHuBalanceFive" column="TEMP_HU_BALANCE_FIVE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="planChildType" column="PLAN_CHILD_TYPE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="planGrandType" column="PLAN_GRAND_TYPE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="reachOffOne" column="REACH_OFF_ONE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="reachOffTwo" column="REACH_OFF_TWO"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="reachOffThree" column="REACH_OFF_THREE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="reachOffFour" column="REACH_OFF_FOUR"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="reachOffFive" column="REACH_OFF_FIVE"  javaType="double" jdbcType="DOUBLE"  nullValue="0"/>
		<result property="limitAmount.cent" column="LIMIT_AMOUNT"  javaType="long" jdbcType="DECIMAL" />
		<result property="startDate" column="START_DATE"  javaType="java.util.Date" jdbcType="DATETIME" />
		<result property="endDate" column="END_DATE"  javaType="java.util.Date" jdbcType="DATETIME" />
		<result property="youhuiFlg" column="YOUHUI_FLG"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="delFlg" column="DEL_FLG"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="limitCount" column="LIMIT_COUNT"  javaType="int" jdbcType="INT"  nullValue="0"/>
		<result property="buyFlg" column="BUY_FLG"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="gmtCreate" column="GMT_CREATE"  javaType="java.util.Date" jdbcType="DATETIME" />
		<result property="gmtModified" column="GMT_MODIFIED"  javaType="java.util.Date" jdbcType="DATETIME" />
    </resultMap>


    <!-- ============================================= -->
    <!-- mapped statements for IbatisPlanCopyDAO -->
    <!-- ============================================= -->
    <!-- mapped statement for IbatisPlanCopyDAO.selectPlan -->
			 <select id="MS-PLAN-COPY-SELECT-PLAN" resultMap="RM-PLAN-COPY">
	        SELECT
					* 
				FROM 
					hqyt_plan_copy
				LEFT JOIN  hqyt_plan_team_copy ON hqyt_plan_copy.PLAN_TEAM_ID = hqyt_plan_team_copy.PLAN_TEAM_NAME
				WHERE 
					hqyt_plan_copy.DEL_FLG = '0'
				<isNotEmpty prepend="and" property="planTeamId"> 
						hqyt_plan_copy. PLAN_TEAM_ID=#planTeamId#
				</isNotEmpty>
				<isNotEmpty prepend="and" property="planId"> 
						hqyt_plan_copy.PLAN_ID = #planId#
				</isNotEmpty>
				<isNotEmpty prepend="and" property="planName"> 
						hqyt_plan_copy.PLAN_NAME like "%$planName$%"
				</isNotEmpty>
				<isNotEmpty prepend="and" property="planChildType"> 
						hqyt_plan_copy.PLAN_CHILD_TYPE = #planChildType#
				</isNotEmpty>
				<isNotEmpty prepend="and" property="mainType"> 
						hqyt_plan_copy.MAIN_TYPE = #mainType#
				</isNotEmpty>
					ORDER BY hqyt_plan_copy.GMT_CREATE DESC
				<isNotEmpty prepend="" property="limit"> 
					limit #offset#,#limit#
				</isNotEmpty>
    </select>

    <!-- mapped statement for IbatisPlanCopyDAO.selectPlanPage -->
			 <select id="MS-PLAN-COPY-SELECT-PLAN-PAGE" resultClass="int">
	        SELECT
					COUNT(1) 
				FROM
					hqyt_plan_copy
				LEFT JOIN  hqyt_plan_team_copy ON hqyt_plan_copy.PLAN_TEAM_ID = hqyt_plan_team_copy.PLAN_TEAM_NAME
				WHERE 
					hqyt_plan_copy.DEL_FLG = '0'
				<isNotEmpty prepend="and" property="planTeamId"> 
						hqyt_plan_copy. PLAN_TEAM_ID=#planTeamId#
				</isNotEmpty>
				<isNotEmpty prepend="and" property="planId"> 
						hqyt_plan_copy.PLAN_ID = #planId#
				</isNotEmpty>
				<isNotEmpty prepend="and" property="planName"> 
						hqyt_plan_copy.PLAN_NAME like "%$planName$%"
				</isNotEmpty>
				<isNotEmpty prepend="and" property="planChildType"> 
						hqyt_plan_copy.PLAN_CHILD_TYPE = #planChildType#
				</isNotEmpty>
				<isNotEmpty prepend="and" property="mainType"> 
						hqyt_plan_copy.MAIN_TYPE = #mainType#
				</isNotEmpty>
					ORDER BY hqyt_plan_copy.GMT_CREATE DESC
    </select>

    <!-- mapped statement for IbatisPlanCopyDAO.findbyteamid -->
			 <select id="MS-PLAN-COPY-FINDBYTEAMID" resultMap="RM-PLAN-COPY">
	        SELECT
				 * FROM 
				hqyt_plan_copy  WHERE hqyt_plan_copy.PLAN_TEAM_ID =#planTeamId# and hqyt_plan_copy.DEL_FLG = '0'
				
					ORDER BY hqyt_plan_copy.GMT_CREATE DESC
				<isNotEmpty prepend="" property="limit"> 
					limit #offset#,#limit#
				</isNotEmpty>
    </select>

    <!-- mapped statement for IbatisPlanCopyDAO.findbyteamidpage -->
			 <select id="MS-PLAN-COPY-FINDBYTEAMIDPAGE" resultClass="int">
	        SELECT
				  COUNT(1)  FROM 
				hqyt_plan_copy  WHERE 	 hqyt_plan_copy.PLAN_TEAM_ID =#planTeamId#  and  hqyt_plan_copy.DEL_FLG = '0'
				
					ORDER BY hqyt_plan_copy.GMT_CREATE DESC
    </select>

    <!-- mapped statement for IbatisPlanCopyDAO.insertPlan -->
    <insert id="MS-PLAN-COPY-INSERT-PLAN">
    <![CDATA[
        insert into hqyt_plan_copy(PLAN_TEAM_ID,PLAN_ID,PLAN_NAME,MAIN_TYPE,CATEGORY,ROLE_TYPE,OPERATE_OBJ,POINT_ONE,TEMP_POINT_ONE,HU_BALANCE_ONE,TEMP_HU_BALANCE_ONE,POINT_TWO,TEMP_POINT_TWO,HU_BALANCE_TWO,TEMP_HU_BALANCE_TWO,POINT_THREE,TEMP_POINT_THREE,HU_BALANCE_THREE,TEMP_HU_BALANCE_THREE,POINT_FOUR,TEMP_POINT_FOUR,HU_BALANCE_FOUR,TEMP_HU_BALANCE_FOUR,POINT_FIVE,TEMP_POINT_FIVE,HU_BALANCE_FIVE,TEMP_HU_BALANCE_FIVE,PLAN_CHILD_TYPE,PLAN_GRAND_TYPE,REACH_OFF_ONE,REACH_OFF_TWO,REACH_OFF_THREE,REACH_OFF_FOUR,REACH_OFF_FIVE,LIMIT_AMOUNT,START_DATE,END_DATE,YOUHUI_FLG,DEL_FLG,LIMIT_COUNT,BUY_FLG,GMT_CREATE,GMT_MODIFIED) values (#planTeamId#, #planId#, #planName#, #mainType#, #category#, #roleType#, #operateObj#, #pointOne#, #tempPointOne#, #huBalanceOne#, #tempHuBalanceOne#, #pointTwo#, #tempPointTwo#, #huBalanceTwo#, #tempHuBalanceTwo#, #pointThree#, #tempPointThree#, #huBalanceThree#, #tempHuBalanceThree#, #pointFour#, #tempPointFour#, #huBalanceFour#, #tempHuBalanceFour#, #pointFive#, #tempPointFive#, #huBalanceFive#, #tempHuBalanceFive#, #planChildType#, #planGrandType#, #reachOffOne#, #reachOffTwo#, #reachOffThree#, #reachOffFour#, #reachOffFive#, #limitAmount.cent#, #startDate#, #endDate#, #youhuiFlg#, #delFlg#, #limitCount#, #buyFlg#, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
    ]]>
	<selectKey resultClass="int" keyProperty="id">
       select last_insert_id() as id
    </selectKey>
    </insert>

    <!-- mapped statement for IbatisPlanCopyDAO.updatePlan -->
    <update id="MS-PLAN-COPY-UPDATE-PLAN">
    <![CDATA[
        update hqyt_plan_copy set PLAN_TEAM_ID=#planTeamId#, PLAN_NAME=#planName#, MAIN_TYPE=#mainType#, CATEGORY=#category#, ROLE_TYPE=#roleType#, OPERATE_OBJ=#operateObj#, POINT_ONE=#pointOne#, TEMP_POINT_ONE=#tempPointOne#, HU_BALANCE_ONE=#huBalanceOne#, TEMP_HU_BALANCE_ONE=#tempHuBalanceOne#, POINT_TWO=#pointTwo#, TEMP_POINT_TWO=#tempPointTwo#, HU_BALANCE_TWO=#huBalanceTwo#, TEMP_HU_BALANCE_TWO=#tempHuBalanceTwo#, POINT_THREE=#pointThree#, TEMP_POINT_THREE=#tempPointThree#, HU_BALANCE_THREE=#huBalanceThree#, TEMP_HU_BALANCE_THREE=#tempHuBalanceThree#, POINT_FOUR=#pointFour#, TEMP_POINT_FOUR=#tempPointFour#, HU_BALANCE_FOUR=#huBalanceFour#, TEMP_HU_BALANCE_FOUR=#tempHuBalanceFour#, POINT_FIVE=#pointFive#, TEMP_POINT_FIVE=#tempPointFive#, HU_BALANCE_FIVE=#huBalanceFive#, TEMP_HU_BALANCE_FIVE=#tempHuBalanceFive#, PLAN_CHILD_TYPE=#planChildType#, PLAN_GRAND_TYPE=#planGrandType#, REACH_OFF_ONE=#reachOffOne#, REACH_OFF_TWO=#reachOffTwo#, REACH_OFF_THREE=#reachOffThree#, REACH_OFF_FOUR=#reachOffFour#, REACH_OFF_FIVE=#reachOffFive#, LIMIT_AMOUNT=#limitAmount.cent#, START_DATE=#startDate#, END_DATE=#endDate#, YOUHUI_FLG=#youhuiFlg#, DEL_FLG=#delFlg#, LIMIT_COUNT=#limitCount#, BUY_FLG=#buyFlg#, GMT_MODIFIED=CURRENT_TIMESTAMP where (ID = #id#)
    ]]>
    </update>

    <!-- mapped statement for IbatisPlanCopyDAO.deletePlan -->
    <update id="MS-PLAN-COPY-DELETE-PLAN">
    <![CDATA[
        update hqyt_plan_copy set DEL_FLG='1' where (ID = #value#)
    ]]>
    </update>

    <!-- mapped statement for IbatisPlanCopyDAO.findplans -->
			 <select id="MS-PLAN-COPY-FINDPLANS" resultMap="RM-PLAN-COPY">
	        select 
					*
				FROM 
					hqyt_plan_copy 
				WHERE 
					hqyt_plan_copy.PLAN_TEAM_ID  is null and  hqyt_plan_copy.DEL_FLG = '0'
		        
		        <isNotEmpty prepend="and" property="planName"> 
					 hqyt_plan_copy.PLAN_NAME = #planName#
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="mainType"> 
					 hqyt_plan_copy.MAIN_TYPE= #mainType#
				</isNotEmpty>
				
				<isNotEmpty prepend="" property="limit"> 
					limit #offset#,#limit#
				</isNotEmpty>
    </select>

    <!-- mapped statement for IbatisPlanCopyDAO.zjplan -->
			 <select id="MS-PLAN-COPY-ZJPLAN" resultClass="int">
	        UPDATE 
			hqyt_plan_copy
			 SET 
			 hqyt_plan_copy.PLAN_TEAM_ID = #planTeamId# 
			  WHERE hqyt_plan_copy.PLAN_ID = #planId#
    </select>

</sqlMap>