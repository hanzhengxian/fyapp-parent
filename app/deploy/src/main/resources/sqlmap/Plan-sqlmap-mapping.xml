<?xml version="1.0" encoding="GB2312" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>onway-gen-dal</tt>, a DAL (Data Access Layer)    -->
<!-- code generation utility specially developed for <tt>onway</tt> project.        -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>onway-gen-dal</tt> to generate this file.                                  -->
<!--                                                                               -->
<!-- @author guangdong.li                                                             -->
<!-- ============================================================================= -->

<sqlMap namespace="onway">
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->

    <!-- result maps for database table hqyt_plan -->
    <resultMap id="RM-PLAN" class="com.onway.fyapp.common.dal.dataobject.PlanDO">
		<result property="id" column="ID"  javaType="int" jdbcType="INT"  nullValue="0"/>
		<result property="planTeamId" column="PLAN_TEAM_ID"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="planId" column="PLAN_ID"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="planName" column="PLAN_NAME"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="mainType" column="MAIN_TYPE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="planChildType" column="PLAN_CHILD_TYPE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="operateObj" column="OPERATE_OBJ"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="pointOne" column="POINT_ONE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempPointOne" column="TEMP_POINT_ONE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="huBalanceOne" column="HU_BALANCE_ONE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempHuBalanceOne" column="TEMP_HU_BALANCE_ONE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="pointTwo" column="POINT_TWO"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempPointTwo" column="TEMP_POINT_TWO"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="huBalanceTwo" column="HU_BALANCE_TWO"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempHuBalanceTwo" column="TEMP_HU_BALANCE_TWO"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="pointThree" column="POINT_THREE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempPointThree" column="TEMP_POINT_THREE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="huBalanceThree" column="HU_BALANCE_THREE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempHuBalanceThree" column="TEMP_HU_BALANCE_THREE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="pointFour" column="POINT_FOUR"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempPointFour" column="TEMP_POINT_FOUR"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="huBalanceFour" column="HU_BALANCE_FOUR"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempHuBalanceFour" column="TEMP_HU_BALANCE_FOUR"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="pointFive" column="POINT_FIVE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempPointFive" column="TEMP_POINT_FIVE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="huBalanceFive" column="HU_BALANCE_FIVE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="tempHuBalanceFive" column="TEMP_HU_BALANCE_FIVE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="planGrandType" column="PLAN_GRAND_TYPE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="reachOffOne" column="REACH_OFF_ONE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="reachOffTwo" column="REACH_OFF_TWO"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="reachOffThree" column="REACH_OFF_THREE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="reachOffFour" column="REACH_OFF_FOUR"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="reachOffFive" column="REACH_OFF_FIVE"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="limitAmount.cent" column="LIMIT_AMOUNT"  javaType="long" jdbcType="DECIMAL" />
		<result property="startDate" column="START_DATE"  javaType="java.util.Date" jdbcType="DATETIME" />
		<result property="endDate" column="END_DATE"  javaType="java.util.Date" jdbcType="DATETIME" />
		<result property="youhuiFlg" column="YOUHUI_FLG"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="delFlg" column="DEL_FLG"  javaType="java.lang.String" jdbcType="VARCHAR" />
		<result property="limitCount" column="LIMIT_COUNT"  javaType="int" jdbcType="INT"  nullValue="0"/>
		<result property="gmtCreate" column="GMT_CREATE"  javaType="java.util.Date" jdbcType="DATETIME" />
		<result property="gmtModified" column="GMT_MODIFIED"  javaType="java.util.Date" jdbcType="DATETIME" />
    </resultMap>


    <!-- ============================================= -->
    <!-- mapped statements for IbatisPlanDAO -->
    <!-- ============================================= -->
    <!-- mapped statement for IbatisPlanDAO.insert -->
    <insert id="MS-PLAN-INSERT">
    <![CDATA[
        insert into hqyt_plan(PLAN_TEAM_ID,PLAN_ID,PLAN_NAME,MAIN_TYPE,PLAN_CHILD_TYPE,OPERATE_OBJ,POINT_ONE,TEMP_POINT_ONE,HU_BALANCE_ONE,TEMP_HU_BALANCE_ONE,POINT_TWO,TEMP_POINT_TWO,HU_BALANCE_TWO,TEMP_HU_BALANCE_TWO,POINT_THREE,TEMP_POINT_THREE,HU_BALANCE_THREE,TEMP_HU_BALANCE_THREE,POINT_FOUR,TEMP_POINT_FOUR,HU_BALANCE_FOUR,TEMP_HU_BALANCE_FOUR,POINT_FIVE,TEMP_POINT_FIVE,HU_BALANCE_FIVE,TEMP_HU_BALANCE_FIVE,PLAN_GRAND_TYPE,REACH_OFF_ONE,REACH_OFF_TWO,REACH_OFF_THREE,REACH_OFF_FOUR,REACH_OFF_FIVE,LIMIT_AMOUNT,START_DATE,END_DATE,YOUHUI_FLG,DEL_FLG,LIMIT_COUNT,GMT_CREATE,GMT_MODIFIED) values (#planTeamId#, #planId#, #planName#, #mainType#, #planChildType#, #operateObj#, #pointOne#, #tempPointOne#, #huBalanceOne#, #tempHuBalanceOne#, #pointTwo#, #tempPointTwo#, #huBalanceTwo#, #tempHuBalanceTwo#, #pointThree#, #tempPointThree#, #huBalanceThree#, #tempHuBalanceThree#, #pointFour#, #tempPointFour#, #huBalanceFour#, #tempHuBalanceFour#, #pointFive#, #tempPointFive#, #huBalanceFive#, #tempHuBalanceFive#, #planGrandType#, #reachOffOne#, #reachOffTwo#, #reachOffThree#, #reachOffFour#, #reachOffFive#, #limitAmount.cent#, #startDate#, #endDate#, #youhuiFlg#, #delFlg#, #limitCount#, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
    ]]>
	<selectKey resultClass="int" keyProperty="id">
       select last_insert_id() as id
    </selectKey>
    </insert>

    <!-- mapped statement for IbatisPlanDAO.selectByQuery -->
			 <select id="MS-PLAN-SELECT-BY-QUERY" resultMap="RM-PLAN">
	        SELECT
					ID,
					PLAN_TEAM_ID,
					PLAN_ID,
					PLAN_NAME,
					MAIN_TYPE,
					PLAN_CHILD_TYPE,
					OPERATE_OBJ,
					POINT_ONE,
					TEMP_POINT_ONE,
					HU_BALANCE_ONE,
					TEMP_HU_BALANCE_ONE,
					POINT_TWO,
					TEMP_POINT_TWO,
					HU_BALANCE_TWO,
					TEMP_HU_BALANCE_TWO,
					POINT_THREE,
					TEMP_POINT_THREE,
					HU_BALANCE_THREE,
					TEMP_HU_BALANCE_THREE,
					POINT_FOUR,
					TEMP_POINT_FOUR,
					HU_BALANCE_FOUR,
					TEMP_HU_BALANCE_FOUR,
					POINT_FIVE,
					TEMP_POINT_FIVE,
					HU_BALANCE_FIVE,
					TEMP_HU_BALANCE_FIVE,
					PLAN_GRAND_TYPE,
					REACH_OFF_ONE,
					REACH_OFF_TWO,
					REACH_OFF_THREE,
					REACH_OFF_FOUR,
					REACH_OFF_FIVE,
					LIMIT_AMOUNT,
					START_DATE,
					END_DATE,
					YOUHUI_FLG,
					DEL_FLG,
					LIMIT_COUNT,
					GMT_CREATE,
					GMT_MODIFIED
				FROM
					hqyt_plan

				where 1=1 
				
				and DEL_FLG = '0'
				
				<isNotEmpty prepend="and" property="planTeamId"> 
				 	PLAN_TEAM_ID = #planTeamId#
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="planId"> 
				 	PLAN_ID = #planId#
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="planName"> 
				 	PLAN_NAME like '%$planName$%'
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="mainType"> 
				 	MAIN_TYPE = #mainType#
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="planChildType"> 
				 	PLAN_CHILD_TYPE = #planChildType#
				</isNotEmpty>
	    		
	    		order by GMT_CREATE desc 
	    		
	    		<isNotEmpty prepend="" property="limit"> 
					limit #offset#,#limit#
				</isNotEmpty>
    </select>

    <!-- mapped statement for IbatisPlanDAO.selectCountByQuery -->
			 <select id="MS-PLAN-SELECT-COUNT-BY-QUERY" resultClass="int">
	        SELECT count(1) FROM hqyt_plan
				where 1=1 
				and DEL_FLG = '0'
				<isNotEmpty prepend="and" property="planTeamId"> 
				 	PLAN_TEAM_ID = #planTeamId#
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="planId"> 
				 	PLAN_ID = #planId#
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="planName"> 
				 	PLAN_NAME like '%$planName$%'
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="mainType"> 
				 	MAIN_TYPE = #mainType#
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="planChildType"> 
				 	PLAN_CHILD_TYPE = #planChildType#
				</isNotEmpty>
    </select>

    <!-- mapped statement for IbatisPlanDAO.update -->
    <update id="MS-PLAN-UPDATE">
    <![CDATA[
        update hqyt_plan set PLAN_NAME=#planName#, MAIN_TYPE=#mainType#, PLAN_CHILD_TYPE=#planChildType#, OPERATE_OBJ=#operateObj#, POINT_ONE=#pointOne#, TEMP_POINT_ONE=#tempPointOne#, HU_BALANCE_ONE=#huBalanceOne#, TEMP_HU_BALANCE_ONE=#tempHuBalanceOne#, POINT_TWO=#pointTwo#, TEMP_POINT_TWO=#tempPointTwo#, HU_BALANCE_TWO=#huBalanceTwo#, TEMP_HU_BALANCE_TWO=#tempHuBalanceTwo#, POINT_THREE=#pointThree#, TEMP_POINT_THREE=#tempPointThree#, HU_BALANCE_THREE=#huBalanceThree#, TEMP_HU_BALANCE_THREE=#tempHuBalanceThree#, POINT_FOUR=#pointFour#, TEMP_POINT_FOUR=#tempPointFour#, HU_BALANCE_FOUR=#huBalanceFour#, TEMP_HU_BALANCE_FOUR=#tempHuBalanceFour#, POINT_FIVE=#pointFive#, TEMP_POINT_FIVE=#tempPointFive#, HU_BALANCE_FIVE=#huBalanceFive#, TEMP_HU_BALANCE_FIVE=#tempHuBalanceFive#, PLAN_GRAND_TYPE=#planGrandType#, REACH_OFF_ONE=#reachOffOne#, REACH_OFF_TWO=#reachOffTwo#, REACH_OFF_THREE=#reachOffThree#, REACH_OFF_FOUR=#reachOffFour#, REACH_OFF_FIVE=#reachOffFive#, LIMIT_AMOUNT=#limitAmount.cent#, START_DATE=#startDate#, END_DATE=#endDate#, YOUHUI_FLG=#youhuiFlg#, DEL_FLG=#delFlg#, LIMIT_COUNT=#limitCount#, GMT_MODIFIED=CURRENT_TIMESTAMP where (PLAN_ID = #planId#)
    ]]>
    </update>

    <!-- mapped statement for IbatisPlanDAO.delete -->
    <update id="MS-PLAN-DELETE">
    <![CDATA[
        update hqyt_plan set DEL_FLG='1', GMT_MODIFIED=CURRENT_TIMESTAMP where (PLAN_ID = #value#)
    ]]>
    </update>

    <!-- mapped statement for IbatisPlanDAO.selectNoTeamList -->
			 <select id="MS-PLAN-SELECT-NO-TEAM-LIST" resultMap="RM-PLAN">
	        select 
					*
				FROM 
					hqyt_plan 
				WHERE 
					1 = 1
				and
					PLAN_TEAM_ID  is null and  DEL_FLG = '0'
		        
		        <isNotEmpty prepend="and" property="planName"> 
					 PLAN_NAME like '%$planName$%'
				</isNotEmpty>
				
				<isNotEmpty prepend="and" property="mainType"> 
					 MAIN_TYPE= #mainType#
				</isNotEmpty>
				
				<isNotEmpty prepend="" property="limit"> 
					limit #offset#,#limit#
				</isNotEmpty>
    </select>

    <!-- mapped statement for IbatisPlanDAO.joinTeam -->
    <update id="MS-PLAN-JOIN-TEAM">
    <![CDATA[
        update hqyt_plan set PLAN_TEAM_ID=#planTeamId#, GMT_MODIFIED=CURRENT_TIMESTAMP where (PLAN_ID = #planId#)
    ]]>
    </update>

</sqlMap>